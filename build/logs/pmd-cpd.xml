<?xml version="1.0" encoding="UTF-8"?>
<pmd-cpd>
  <duplication lines="39" tokens="123">
    <file path="C:\wamp64\www\gns-lms\application\controllers\Admin.php" line="592"/>
    <file path="C:\wamp64\www\gns-lms\application\controllers\User.php" line="139"/>
    <codefragment>  function get_all_languages() {&#13;
    $language_files = array();&#13;
    $all_files = $this-&gt;get_list_of_language_files();&#13;
    foreach ($all_files as $file) {&#13;
      $info = pathinfo($file);&#13;
      if( isset($info['extension']) &amp;&amp; strtolower($info['extension']) == 'json') {&#13;
        $file_name = explode('.json', $info['basename']);&#13;
        array_push($language_files, $file_name[0]);&#13;
      }&#13;
    }&#13;
    return $language_files;&#13;
  }&#13;
&#13;
  function get_list_of_language_files($dir = APPPATH.'/language', &amp;$results = array()) {&#13;
    $files = scandir($dir);&#13;
    foreach($files as $key =&gt; $value){&#13;
      $path = realpath($dir.DIRECTORY_SEPARATOR.$value);&#13;
      if(!is_dir($path)) {&#13;
        $results[] = $path;&#13;
      } else if($value != "." &amp;&amp; $value != "..") {&#13;
        $this-&gt;get_list_of_directories_and_files($path, $results);&#13;
        $results[] = $path;&#13;
      }&#13;
    }&#13;
    return $results;&#13;
  }&#13;
&#13;
  function get_list_of_directories_and_files($dir = APPPATH, &amp;$results = array()) {&#13;
    $files = scandir($dir);&#13;
    foreach($files as $key =&gt; $value){&#13;
      $path = realpath($dir.DIRECTORY_SEPARATOR.$value);&#13;
      if(!is_dir($path)) {&#13;
        $results[] = $path;&#13;
      } else if($value != "." &amp;&amp; $value != "..") {&#13;
        $this-&gt;get_list_of_directories_and_files($path, $results);&#13;
        $results[] = $path;&#13;
      }&#13;
    }&#13;
    return $results;&#13;
</codefragment>
  </duplication>
  <duplication lines="20" tokens="73">
    <file path="C:\wamp64\www\gns-lms\application\models\Crud_model.php" line="126"/>
    <file path="C:\wamp64\www\gns-lms\application\models\Crud_model.php" line="151"/>
    <codefragment>            $this-&gt;db-&gt;select('id');&#13;
            $courses = $this-&gt;db-&gt;get('course')-&gt;result_array();&#13;
            foreach ($courses as $course) {&#13;
                if (!in_array($course['id'], $course_ids)) {&#13;
                    array_push( $course_ids, $course['id'] );&#13;
                }&#13;
            }&#13;
            if (sizeof($course_ids)) {&#13;
                $this-&gt;db-&gt;where_in('course_id', $course_ids);&#13;
            }else {&#13;
                return array();&#13;
            }&#13;
        }&#13;
&#13;
        $this-&gt;db-&gt;order_by('date_added' , 'desc');&#13;
        $this-&gt;db-&gt;where('date_added &gt;=' , $timestamp_start);&#13;
        $this-&gt;db-&gt;where('date_added &lt;=' , $timestamp_end);&#13;
        return $this-&gt;db-&gt;get('payment')-&gt;result_array();&#13;
    }&#13;
&#13;
</codefragment>
  </duplication>
  <duplication lines="40" tokens="242">
    <file path="C:\wamp64\www\gns-lms\application\models\Crud_model.php" line="714"/>
    <file path="C:\wamp64\www\gns-lms\application\models\Crud_model.php" line="793"/>
    <codefragment>        $data['course_id'] = html_escape($this-&gt;input-&gt;post('course_id'));&#13;
        $data['title'] = html_escape($this-&gt;input-&gt;post('title'));&#13;
        $data['section_id'] = html_escape($this-&gt;input-&gt;post('section_id'));&#13;
&#13;
        $lesson_type_array = explode('-', $this-&gt;input-&gt;post('lesson_type'));&#13;
        $lesson_type = $lesson_type_array[0];&#13;
&#13;
        $data['attachment_type'] = $lesson_type_array[1];&#13;
        $data['lesson_type'] = $lesson_type;&#13;
&#13;
        if($lesson_type == 'video') {&#13;
            $lesson_provider = $this-&gt;input-&gt;post('lesson_provider');&#13;
            if ($lesson_provider == 'youtube' || $lesson_provider == 'vimeo') {&#13;
                if ($this-&gt;input-&gt;post('video_url') == "" || $this-&gt;input-&gt;post('duration') == "") {&#13;
                    $this-&gt;session-&gt;set_flashdata('error_message',get_phrase('invalid_lesson_url_and_duration'));&#13;
                    redirect(site_url(strtolower($this-&gt;session-&gt;userdata('role')).'/course_form/course_edit/'.$data['course_id']), 'refresh');&#13;
                }&#13;
                $data['video_url'] = html_escape($this-&gt;input-&gt;post('video_url'));&#13;
&#13;
                $duration_formatter = explode(':', $this-&gt;input-&gt;post('duration'));&#13;
                $hour = sprintf('%02d', $duration_formatter[0]);&#13;
                $min = sprintf('%02d', $duration_formatter[1]);&#13;
                $sec = sprintf('%02d', $duration_formatter[2]);&#13;
                $data['duration'] = $hour.':'.$min.':'.$sec;&#13;
&#13;
                $video_details = $this-&gt;video_model-&gt;getVideoDetails($data['video_url']);&#13;
                $data['video_type'] = $video_details['provider'];&#13;
            }elseif ($lesson_provider == 'html5') {&#13;
                if ($this-&gt;input-&gt;post('html5_video_url') == "" || $this-&gt;input-&gt;post('html5_duration') == "") {&#13;
                    $this-&gt;session-&gt;set_flashdata('error_message',get_phrase('invalid_lesson_url_and_duration'));&#13;
                    redirect(site_url(strtolower($this-&gt;session-&gt;userdata('role')).'/course_form/course_edit/'.$data['course_id']), 'refresh');&#13;
                }&#13;
                $data['video_url'] = html_escape($this-&gt;input-&gt;post('html5_video_url'));&#13;
                $duration_formatter = explode(':', $this-&gt;input-&gt;post('html5_duration'));&#13;
                $hour = sprintf('%02d', $duration_formatter[0]);&#13;
                $min = sprintf('%02d', $duration_formatter[1]);&#13;
                $sec = sprintf('%02d', $duration_formatter[2]);&#13;
                $data['duration'] = $hour.':'.$min.':'.$sec;&#13;
                $data['video_type'] = 'html5';&#13;
            }else {&#13;
</codefragment>
  </duplication>
  <duplication lines="66" tokens="143">
    <file path="C:\wamp64\www\gns-lms\application\views\backend\admin\active_courses.php" line="27"/>
    <file path="C:\wamp64\www\gns-lms\application\views\backend\admin\pending_courses.php" line="60"/>
    <codefragment>                          echo $category_details['name'];&#13;
                     ?&gt;&#13;
                 &lt;/td&gt;&#13;
                 &lt;td&gt;&#13;
                     &lt;?php&#13;
                        if ($course['user_id'] &gt; 0) {&#13;
                            $instructor_details = $this-&gt;user_model-&gt;get_all_user($course['user_id'])-&gt;row_array();&#13;
                            echo $instructor_details['first_name'].' '.$instructor_details['last_name'];&#13;
                        }else {&#13;
                            $admin_details = $this-&gt;user_model-&gt;get_admin_details();&#13;
                            echo $admin_details['first_name'].' '.$admin_details['last_name'];&#13;
                        }&#13;
                     ?&gt;&#13;
                 &lt;/td&gt;&#13;
                &lt;td hidden&gt;&#13;
                    &lt;ul style="list-style-type:square"&gt;&#13;
                    &lt;?php&#13;
                      $lessons = $this-&gt;crud_model-&gt;get_lessons('course', $course['id'])-&gt;result_array();&#13;
                      foreach ($lessons as $lesson):?&gt;&#13;
                      &lt;a href="&lt;?php echo site_url('admin/watch_video/'.slugify($lesson['title']).'/'.$lesson['id']); ?&gt;"&gt;&lt;li&gt;&lt;?php echo $lesson['title']; ?&gt;&lt;/li&gt;&lt;/a&gt;&#13;
                    &lt;?php endforeach; ?&gt;&#13;
                    &lt;/ul&gt;&#13;
                &lt;/td&gt;&#13;
                &lt;td&gt;&#13;
                    &lt;?php&#13;
                        $sections = $this-&gt;crud_model-&gt;get_section('course', $course['id']);&#13;
                        echo $sections-&gt;num_rows();&#13;
                    ?&gt;&#13;
                &lt;/td&gt;&#13;
                &lt;td&gt;&#13;
                    &lt;?php&#13;
                        $lessons = $this-&gt;crud_model-&gt;get_lessons('course', $course['id']);&#13;
                        echo $lessons-&gt;num_rows();&#13;
                    ?&gt;&#13;
                &lt;/td&gt;&#13;
                &lt;td&gt;&#13;
                    &lt;?php&#13;
                        $enrol_history = $this-&gt;crud_model-&gt;enrol_history($course['id']);&#13;
                        echo $enrol_history-&gt;num_rows();&#13;
                     ?&gt;&#13;
                &lt;/td&gt;&#13;
                &lt;td&gt;&#13;
                    &lt;div class="btn-group"&gt;&#13;
                        &lt;button class="btn btn-small btn-default btn-demo-space" data-toggle="dropdown"&gt; &lt;i class = "fa fa-ellipsis-v"&gt;&lt;/i&gt; &lt;/button&gt;&#13;
                        &lt;ul class="dropdown-menu"&gt;&#13;
                            &lt;li&gt;&#13;
                                &lt;a href="&lt;?php echo site_url('home/course/'.slugify($course['title']).'/'.$course['id']); ?&gt;" target="_blank"&gt;&#13;
                                    &lt;?php echo get_phrase('view_course_on_frontend');?&gt;&#13;
                                &lt;/a&gt;&#13;
                            &lt;/li&gt;&#13;
&#13;
                            &lt;li&gt;&#13;
                                &lt;a href="&lt;?php echo site_url('admin/sections/'.$course['id']); ?&gt;"&gt;&#13;
                                    &lt;?php echo get_phrase('manage_section');?&gt;&#13;
                                &lt;/a&gt;&#13;
                            &lt;/li&gt;&#13;
&#13;
                            &lt;li&gt;&#13;
                                &lt;a href="&lt;?php echo site_url('admin/lessons/'.$course['id']); ?&gt;"&gt;&#13;
                                    &lt;?php echo get_phrase('manage_lesson');?&gt;&#13;
                                &lt;/a&gt;&#13;
                            &lt;/li&gt;&#13;
&#13;
&#13;
                            &lt;li&gt;&#13;
                                &lt;?php if ($course['user_id'] != $this-&gt;session-&gt;userdata('user_id')): ?&gt;&#13;
</codefragment>
  </duplication>
  <duplication lines="37" tokens="113">
    <file path="C:\wamp64\www\gns-lms\application\views\backend\admin\courses.php" line="122"/>
    <file path="C:\wamp64\www\gns-lms\application\views\backend\user\courses.php" line="136"/>
    <codefragment>                        &lt;label for="price"&gt;&lt;?php echo get_phrase('price'); ?&gt;&lt;/label&gt;&#13;
                        &lt;select class="form-control select2" data-toggle="select2" name="price" id = 'price'&gt;&#13;
                            &lt;option value="all"  &lt;?php if($selected_price == 'all' ) echo 'selected'; ?&gt;&gt;&lt;?php echo get_phrase('all'); ?&gt;&lt;/option&gt;&#13;
                            &lt;option value="free" &lt;?php if($selected_price == 'free') echo 'selected'; ?&gt;&gt;&lt;?php echo get_phrase('free'); ?&gt;&lt;/option&gt;&#13;
                            &lt;option value="paid" &lt;?php if($selected_price == 'paid') echo 'selected'; ?&gt;&gt;&lt;?php echo get_phrase('paid'); ?&gt;&lt;/option&gt;&#13;
                        &lt;/select&gt;&#13;
                    &lt;/div&gt;&#13;
                &lt;/div&gt;&#13;
&#13;
                &lt;div class="col-xl-2"&gt;&#13;
                    &lt;label for=".." class="text-white"&gt;&lt;?php echo get_phrase('..'); ?&gt;&lt;/label&gt;&#13;
                    &lt;button type="submit" class="btn btn-primary btn-block" name="button"&gt;&lt;?php echo get_phrase('filter'); ?&gt;&lt;/button&gt;&#13;
                &lt;/div&gt;&#13;
            &lt;/form&gt;&#13;
&#13;
            &lt;div class="table-responsive-sm mt-4"&gt;&#13;
                &lt;?php if (count($courses) &gt; 0): ?&gt;&#13;
                    &lt;table id="course-datatable" class="table table-striped dt-responsive nowrap" width="100%" data-page-length='25'&gt;&#13;
                        &lt;thead&gt;&#13;
                            &lt;tr&gt;&#13;
                                &lt;th&gt;#&lt;/th&gt;&#13;
                                &lt;th&gt;&lt;?php echo get_phrase('title'); ?&gt;&lt;/th&gt;&#13;
                                &lt;th&gt;&lt;?php echo get_phrase('category'); ?&gt;&lt;/th&gt;&#13;
                                &lt;th&gt;&lt;?php echo get_phrase('lesson_&amp;_section'); ?&gt;&lt;/th&gt;&#13;
                                &lt;th&gt;&lt;?php echo get_phrase('enrolled_student'); ?&gt;&lt;/th&gt;&#13;
                                &lt;th&gt;&lt;?php echo get_phrase('status'); ?&gt;&lt;/th&gt;&#13;
                                &lt;th&gt;&lt;?php echo get_phrase('price'); ?&gt;&lt;/th&gt;&#13;
                                &lt;th&gt;&lt;?php echo get_phrase('actions'); ?&gt;&lt;/th&gt;&#13;
                            &lt;/tr&gt;&#13;
                        &lt;/thead&gt;&#13;
                        &lt;tbody&gt;&#13;
                            &lt;?php foreach ($courses as $key =&gt; $course):&#13;
                                $instructor_details = $this-&gt;user_model-&gt;get_all_user($course['user_id'])-&gt;row_array();&#13;
                                $category_details = $this-&gt;crud_model-&gt;get_category_details_by_id($course['sub_category_id'])-&gt;row_array();&#13;
                                $sections = $this-&gt;crud_model-&gt;get_section('course', $course['id']);&#13;
                                $lessons = $this-&gt;crud_model-&gt;get_lessons('course', $course['id']);&#13;
                                $enroll_history = $this-&gt;crud_model-&gt;enrol_history($course['id']);&#13;
</codefragment>
  </duplication>
  <duplication lines="431" tokens="355">
    <file path="C:\wamp64\www\gns-lms\application\views\backend\admin\course_edit.php" line="25"/>
    <file path="C:\wamp64\www\gns-lms\application\views\backend\user\course_edit.php" line="25"/>
    <codefragment>                        &lt;form class="required-form" action="&lt;?php echo site_url('admin/course_actions/edit/'.$course_id); ?&gt;" method="post" enctype="multipart/form-data"&gt;&#13;
                            &lt;div id="basicwizard"&gt;&#13;
                                &lt;ul class="nav nav-pills nav-justified form-wizard-header mb-3"&gt;&#13;
                                    &lt;li class="nav-item"&gt;&#13;
                                       &lt;a href="#curriculum" data-toggle="tab" class="nav-link rounded-0 pt-2 pb-2"&gt;&#13;
                                           &lt;i class="mdi mdi-account-circle mr-1"&gt;&lt;/i&gt;&#13;
                                           &lt;span class="d-none d-sm-inline"&gt;&lt;?php echo get_phrase('curriculum'); ?&gt;&lt;/span&gt;&#13;
                                       &lt;/a&gt;&#13;
                                   &lt;/li&gt;&#13;
                                    &lt;li class="nav-item"&gt;&#13;
                                        &lt;a href="#basic" data-toggle="tab" class="nav-link rounded-0 pt-2 pb-2"&gt;&#13;
                                            &lt;i class="mdi mdi-fountain-pen-tip mr-1"&gt;&lt;/i&gt;&#13;
                                            &lt;span class="d-none d-sm-inline"&gt;&lt;?php echo get_phrase('basic'); ?&gt;&lt;/span&gt;&#13;
                                        &lt;/a&gt;&#13;
                                    &lt;/li&gt;&#13;
                                    &lt;li class="nav-item"&gt;&#13;
                                        &lt;a href="#requirements" data-toggle="tab" class="nav-link rounded-0 pt-2 pb-2"&gt;&#13;
                                            &lt;i class="mdi mdi-bell-alert mr-1"&gt;&lt;/i&gt;&#13;
                                            &lt;span class="d-none d-sm-inline"&gt;&lt;?php echo get_phrase('requirements'); ?&gt;&lt;/span&gt;&#13;
                                        &lt;/a&gt;&#13;
                                    &lt;/li&gt;&#13;
                                    &lt;li class="nav-item"&gt;&#13;
                                        &lt;a href="#outcomes" data-toggle="tab" class="nav-link rounded-0 pt-2 pb-2"&gt;&#13;
                                            &lt;i class="mdi mdi-camera-control mr-1"&gt;&lt;/i&gt;&#13;
                                            &lt;span class="d-none d-sm-inline"&gt;&lt;?php echo get_phrase('outcomes'); ?&gt;&lt;/span&gt;&#13;
                                        &lt;/a&gt;&#13;
                                    &lt;/li&gt;&#13;
                                    &lt;li class="nav-item"&gt;&#13;
                                        &lt;a href="#pricing" data-toggle="tab" class="nav-link rounded-0 pt-2 pb-2"&gt;&#13;
                                            &lt;i class="mdi mdi-currency-cny mr-1"&gt;&lt;/i&gt;&#13;
                                            &lt;span class="d-none d-sm-inline"&gt;&lt;?php echo get_phrase('pricing'); ?&gt;&lt;/span&gt;&#13;
                                        &lt;/a&gt;&#13;
                                    &lt;/li&gt;&#13;
                                    &lt;li class="nav-item"&gt;&#13;
                                        &lt;a href="#media" data-toggle="tab" class="nav-link rounded-0 pt-2 pb-2"&gt;&#13;
                                            &lt;i class="mdi mdi-library-video mr-1"&gt;&lt;/i&gt;&#13;
                                            &lt;span class="d-none d-sm-inline"&gt;&lt;?php echo get_phrase('media'); ?&gt;&lt;/span&gt;&#13;
                                        &lt;/a&gt;&#13;
                                    &lt;/li&gt;&#13;
                                    &lt;li class="nav-item"&gt;&#13;
                                        &lt;a href="#seo" data-toggle="tab" class="nav-link rounded-0 pt-2 pb-2"&gt;&#13;
                                            &lt;i class="mdi mdi-tag-multiple mr-1"&gt;&lt;/i&gt;&#13;
                                            &lt;span class="d-none d-sm-inline"&gt;&lt;?php echo get_phrase('seo'); ?&gt;&lt;/span&gt;&#13;
                                        &lt;/a&gt;&#13;
                                    &lt;/li&gt;&#13;
                                    &lt;li class="nav-item"&gt;&#13;
                                        &lt;a href="#finish" data-toggle="tab" class="nav-link rounded-0 pt-2 pb-2"&gt;&#13;
                                            &lt;i class="mdi mdi-checkbox-marked-circle-outline mr-1"&gt;&lt;/i&gt;&#13;
                                            &lt;span class="d-none d-sm-inline"&gt;&lt;?php echo get_phrase('finish'); ?&gt;&lt;/span&gt;&#13;
                                        &lt;/a&gt;&#13;
                                    &lt;/li&gt;&#13;
                                &lt;/ul&gt;&#13;
&#13;
                                &lt;div class="tab-content b-0 mb-0"&gt;&#13;
                                    &lt;div class="tab-pane" id="curriculum"&gt;&#13;
                                        &lt;?php include 'curriculum.php'; ?&gt;&#13;
                                    &lt;/div&gt;&#13;
&#13;
                                &lt;div class="tab-pane" id="basic"&gt;&#13;
                                    &lt;div class="row justify-content-center"&gt;&#13;
                                        &lt;div class="col-xl-8"&gt;&#13;
                                            &lt;div class="form-group row mb-3"&gt;&#13;
                                                &lt;label class="col-md-2 col-form-label" for="course_title"&gt;&lt;?php echo get_phrase('course_title'); ?&gt;&lt;span class="required"&gt;*&lt;/span&gt;&lt;/label&gt;&#13;
                                                &lt;div class="col-md-10"&gt;&#13;
                                                    &lt;input type="text" class="form-control" id="course_title" name = "title" placeholder="&lt;?php echo get_phrase('enter_course_title'); ?&gt;" value="&lt;?php echo $course_details['title']; ?&gt;" required&gt;&#13;
                                                &lt;/div&gt;&#13;
                                            &lt;/div&gt;&#13;
                                            &lt;div class="form-group row mb-3"&gt;&#13;
                                                &lt;label class="col-md-2 col-form-label" for="short_description"&gt;&lt;?php echo get_phrase('short_description'); ?&gt;&lt;/label&gt;&#13;
                                                &lt;div class="col-md-10"&gt;&#13;
                                                    &lt;textarea name="short_description" id = "short_description" class="form-control"&gt;&lt;?php echo $course_details['short_description']; ?&gt;&lt;/textarea&gt;&#13;
                                                &lt;/div&gt;&#13;
                                            &lt;/div&gt;&#13;
                                            &lt;div class="form-group row mb-3"&gt;&#13;
                                                &lt;label class="col-md-2 col-form-label" for="description"&gt;&lt;?php echo get_phrase('description'); ?&gt;&lt;/label&gt;&#13;
                                                &lt;div class="col-md-10"&gt;&#13;
                                                    &lt;textarea name="description" id = "description" class="form-control"&gt;&lt;?php echo $course_details['description']; ?&gt;&lt;/textarea&gt;&#13;
                                                &lt;/div&gt;&#13;
                                            &lt;/div&gt;&#13;
                                            &lt;div class="form-group row mb-3"&gt;&#13;
                                                &lt;label class="col-md-2 col-form-label" for="sub_category_id"&gt;&lt;?php echo get_phrase('category'); ?&gt;&lt;span class="required"&gt;*&lt;/span&gt;&lt;/label&gt;&#13;
                                                &lt;div class="col-md-10"&gt;&#13;
                                                    &lt;select class="form-control select2" data-toggle="select2" name="sub_category_id" id="sub_category_id" required&gt;&#13;
                                                        &lt;option value=""&gt;&lt;?php echo get_phrase('select_a_category'); ?&gt;&lt;/option&gt;&#13;
                                                        &lt;?php foreach ($categories-&gt;result_array() as $category): ?&gt;&#13;
                                                            &lt;optgroup label="&lt;?php echo $category['name']; ?&gt;"&gt;&#13;
                                                                &lt;?php $sub_categories = $this-&gt;crud_model-&gt;get_sub_categories($category['id']);&#13;
                                                                foreach ($sub_categories as $sub_category): ?&gt;&#13;
                                                                &lt;option value="&lt;?php echo $sub_category['id']; ?&gt;" &lt;?php if($sub_category['id'] == $course_details['sub_category_id']) echo 'selected'; ?&gt;&gt;&lt;?php echo $sub_category['name']; ?&gt;&lt;/option&gt;&#13;
                                                            &lt;?php endforeach; ?&gt;&#13;
                                                        &lt;/optgroup&gt;&#13;
                                                    &lt;?php endforeach; ?&gt;&#13;
                                                &lt;/select&gt;&#13;
                                            &lt;/div&gt;&#13;
                                        &lt;/div&gt;&#13;
                                        &lt;div class="form-group row mb-3"&gt;&#13;
                                            &lt;label class="col-md-2 col-form-label" for="level"&gt;&lt;?php echo get_phrase('level'); ?&gt;&lt;/label&gt;&#13;
                                            &lt;div class="col-md-10"&gt;&#13;
                                                &lt;select class="form-control select2" data-toggle="select2" name="level" id="level"&gt;&#13;
                                                    &lt;option value="beginner" &lt;?php if($course_details['level'] == "beginner") echo 'selected'; ?&gt;&gt;&lt;?php echo get_phrase('beginner'); ?&gt;&lt;/option&gt;&#13;
                                                    &lt;option value="advanced" &lt;?php if($course_details['level'] == "advanced") echo 'selected'; ?&gt;&gt;&lt;?php echo get_phrase('advanced'); ?&gt;&lt;/option&gt;&#13;
                                                    &lt;option value="intermediate" &lt;?php if($course_details['level'] == "intermediate") echo 'selected'; ?&gt;&gt;&lt;?php echo get_phrase('intermediate'); ?&gt;&#13;
                                                    &lt;/select&gt;&#13;
                                                &lt;/div&gt;&#13;
                                            &lt;/div&gt;&#13;
                                            &lt;div class="form-group row mb-3"&gt;&#13;
                                                &lt;label class="col-md-2 col-form-label" for="language_made_in"&gt;&lt;?php echo get_phrase('language_made_in'); ?&gt;&lt;/label&gt;&#13;
                                                &lt;div class="col-md-10"&gt;&#13;
                                                    &lt;select class="form-control select2" data-toggle="select2" name="language_made_in" id="language_made_in"&gt;&#13;
                                                        &lt;?php foreach ($languages as $language): ?&gt;&#13;
                                                            &lt;option value="&lt;?php echo $language; ?&gt;" &lt;?php if ($course_details['language'] == $language)echo 'selected';?&gt;&gt;&lt;?php echo ucfirst($language); ?&gt;&lt;/option&gt;&#13;
                                                        &lt;?php endforeach; ?&gt;&#13;
                                                    &lt;/select&gt;&#13;
                                                &lt;/div&gt;&#13;
                                            &lt;/div&gt;&#13;
                                            &lt;div class="form-group row mb-3"&gt;&#13;
                                                &lt;div class="offset-md-2 col-md-10"&gt;&#13;
                                                    &lt;div class="custom-control custom-checkbox"&gt;&#13;
                                                        &lt;input type="checkbox" class="custom-control-input" name="is_top_course" id="is_top_course" value="1" &lt;?php if($course_details['is_top_course'] == 1) echo 'checked'; ?&gt;&gt;&#13;
                                                        &lt;label class="custom-control-label" for="is_top_course"&gt;&lt;?php echo get_phrase('check_if_this_course_is_top_course'); ?&gt;&lt;/label&gt;&#13;
                                                    &lt;/div&gt;&#13;
                                                &lt;/div&gt;&#13;
                                            &lt;/div&gt;&#13;
                                        &lt;/div&gt; &lt;!-- end col --&gt;&#13;
                                    &lt;/div&gt; &lt;!-- end row --&gt;&#13;
                                &lt;/div&gt; &lt;!-- end tab pane --&gt;&#13;
&#13;
                                &lt;div class="tab-pane" id="requirements"&gt;&#13;
                                    &lt;div class="row justify-content-center"&gt;&#13;
                                        &lt;div class="col-xl-8"&gt;&#13;
                                            &lt;div class="form-group row mb-3"&gt;&#13;
                                                &lt;label class="col-md-2 col-form-label" for="requirements"&gt;&lt;?php echo get_phrase('requirements'); ?&gt;&lt;/label&gt;&#13;
                                                &lt;div class="col-md-10"&gt;&#13;
                                                    &lt;div id = "requirement_area"&gt;&#13;
                                                        &lt;?php if (count(json_decode($course_details['requirements'])) &gt; 0): ?&gt;&#13;
                                                            &lt;?php&#13;
                                                            $counter = 0;&#13;
                                                            foreach (json_decode($course_details['requirements']) as $requirement):?&gt;&#13;
                                                            &lt;?php if ($counter == 0):&#13;
                                                                $counter++; ?&gt;&#13;
                                                                &lt;div class="d-flex mt-2"&gt;&#13;
                                                                    &lt;div class="flex-grow-1 px-3"&gt;&#13;
                                                                        &lt;div class="form-group"&gt;&#13;
                                                                            &lt;input type="text" class="form-control" name="requirements[]" id="requirements" placeholder="&lt;?php echo get_phrase('provide_requirements'); ?&gt;" value="&lt;?php echo $requirement; ?&gt;"&gt;&#13;
                                                                        &lt;/div&gt;&#13;
                                                                    &lt;/div&gt;&#13;
                                                                    &lt;div class=""&gt;&#13;
                                                                        &lt;button type="button" class="btn btn-success btn-sm" style="" name="button" onclick="appendRequirement()"&gt; &lt;i class="fa fa-plus"&gt;&lt;/i&gt; &lt;/button&gt;&#13;
                                                                    &lt;/div&gt;&#13;
                                                                &lt;/div&gt;&#13;
                                                            &lt;?php else: ?&gt;&#13;
                                                                &lt;div class="d-flex mt-2"&gt;&#13;
                                                                    &lt;div class="flex-grow-1 px-3"&gt;&#13;
                                                                        &lt;div class="form-group"&gt;&#13;
                                                                            &lt;input type="text" class="form-control" name="requirements[]" id="requirements" placeholder="&lt;?php echo get_phrase('provide_requirements'); ?&gt;" value="&lt;?php echo $requirement; ?&gt;"&gt;&#13;
                                                                        &lt;/div&gt;&#13;
                                                                    &lt;/div&gt;&#13;
                                                                    &lt;div class=""&gt;&#13;
                                                                        &lt;button type="button" class="btn btn-danger btn-sm" style="margin-top: 0px;" name="button" onclick="removeRequirement(this)"&gt; &lt;i class="fa fa-minus"&gt;&lt;/i&gt; &lt;/button&gt;&#13;
                                                                    &lt;/div&gt;&#13;
                                                                &lt;/div&gt;&#13;
                                                            &lt;?php endif; ?&gt;&#13;
                                                        &lt;?php endforeach; ?&gt;&#13;
                                                    &lt;?php else: ?&gt;&#13;
                                                        &lt;div class="d-flex mt-2"&gt;&#13;
                                                            &lt;div class="flex-grow-1 px-3"&gt;&#13;
                                                                &lt;div class="form-group"&gt;&#13;
                                                                    &lt;input type="text" class="form-control" name="requirements[]" id="requirements" placeholder="&lt;?php echo get_phrase('provide_requirements'); ?&gt;"&gt;&#13;
                                                                &lt;/div&gt;&#13;
                                                            &lt;/div&gt;&#13;
                                                            &lt;div class=""&gt;&#13;
                                                                &lt;button type="button" class="btn btn-success btn-sm" style="" name="button" onclick="appendRequirement()"&gt; &lt;i class="fa fa-plus"&gt;&lt;/i&gt; &lt;/button&gt;&#13;
                                                            &lt;/div&gt;&#13;
                                                        &lt;/div&gt;&#13;
                                                    &lt;?php endif; ?&gt;&#13;
&#13;
                                                    &lt;div id = "blank_requirement_field"&gt;&#13;
                                                        &lt;div class="d-flex mt-2"&gt;&#13;
                                                            &lt;div class="flex-grow-1 px-3"&gt;&#13;
                                                                &lt;div class="form-group"&gt;&#13;
                                                                    &lt;input type="text" class="form-control" name="requirements[]" id="requirements" placeholder="&lt;?php echo get_phrase('provide_requirements'); ?&gt;"&gt;&#13;
                                                                &lt;/div&gt;&#13;
                                                            &lt;/div&gt;&#13;
                                                            &lt;div class=""&gt;&#13;
                                                                &lt;button type="button" class="btn btn-danger btn-sm" style="margin-top: 0px;" name="button" onclick="removeRequirement(this)"&gt; &lt;i class="fa fa-minus"&gt;&lt;/i&gt; &lt;/button&gt;&#13;
                                                            &lt;/div&gt;&#13;
                                                        &lt;/div&gt;&#13;
                                                    &lt;/div&gt;&#13;
                                                &lt;/div&gt;&#13;
                                            &lt;/div&gt;&#13;
                                        &lt;/div&gt;&#13;
                                    &lt;/div&gt;&#13;
                                &lt;/div&gt;&#13;
                            &lt;/div&gt;&#13;
&#13;
                            &lt;div class="tab-pane" id="outcomes"&gt;&#13;
                                &lt;div class="row justify-content-center"&gt;&#13;
                                    &lt;div class="col-xl-8"&gt;&#13;
                                        &lt;div class="form-group row mb-3"&gt;&#13;
                                            &lt;label class="col-md-2 col-form-label" for="outcomes"&gt;&lt;?php echo get_phrase('outcomes'); ?&gt;&lt;/label&gt;&#13;
                                            &lt;div class="col-md-10"&gt;&#13;
                                                &lt;div id = "outcomes_area"&gt;&#13;
                                                    &lt;?php if (count(json_decode($course_details['outcomes'])) &gt; 0): ?&gt;&#13;
                                                        &lt;?php&#13;
                                                        $counter = 0;&#13;
                                                        foreach (json_decode($course_details['outcomes']) as $outcome):?&gt;&#13;
                                                        &lt;?php if ($counter == 0):&#13;
                                                            $counter++; ?&gt;&#13;
                                                            &lt;div class="d-flex mt-2"&gt;&#13;
                                                                &lt;div class="flex-grow-1 px-3"&gt;&#13;
                                                                    &lt;div class="form-group"&gt;&#13;
                                                                        &lt;input type="text" class="form-control" name="outcomes[]" placeholder="&lt;?php echo get_phrase('provide_outcomes'); ?&gt;" value="&lt;?php echo $outcome; ?&gt;"&gt;&#13;
                                                                    &lt;/div&gt;&#13;
                                                                &lt;/div&gt;&#13;
                                                                &lt;div class=""&gt;&#13;
                                                                    &lt;button type="button" class="btn btn-success btn-sm" name="button" onclick="appendOutcome()"&gt; &lt;i class="fa fa-plus"&gt;&lt;/i&gt; &lt;/button&gt;&#13;
                                                                &lt;/div&gt;&#13;
                                                            &lt;/div&gt;&#13;
                                                        &lt;?php else: ?&gt;&#13;
                                                            &lt;div class="d-flex mt-2"&gt;&#13;
                                                                &lt;div class="flex-grow-1 px-3"&gt;&#13;
                                                                    &lt;div class="form-group"&gt;&#13;
                                                                        &lt;input type="text" class="form-control" name="outcomes[]"  placeholder="&lt;?php echo get_phrase('provide_outcomes'); ?&gt;" value="&lt;?php echo $outcome; ?&gt;"&gt;&#13;
                                                                    &lt;/div&gt;&#13;
                                                                &lt;/div&gt;&#13;
                                                                &lt;div class=""&gt;&#13;
                                                                    &lt;button type="button" class="btn btn-danger btn-sm" style="margin-top: 0px;" name="button" onclick="removeOutcome(this)"&gt; &lt;i class="fa fa-minus"&gt;&lt;/i&gt; &lt;/button&gt;&#13;
                                                                &lt;/div&gt;&#13;
                                                            &lt;/div&gt;&#13;
                                                        &lt;?php endif; ?&gt;&#13;
                                                    &lt;?php endforeach; ?&gt;&#13;
                                                &lt;?php else: ?&gt;&#13;
                                                    &lt;div class="d-flex mt-2"&gt;&#13;
                                                        &lt;div class="flex-grow-1 px-3"&gt;&#13;
                                                            &lt;div class="form-group"&gt;&#13;
                                                                &lt;input type="text" class="form-control" name="outcomes[]" placeholder="&lt;?php echo get_phrase('provide_outcomes'); ?&gt;"&gt;&#13;
                                                            &lt;/div&gt;&#13;
                                                        &lt;/div&gt;&#13;
                                                        &lt;div class=""&gt;&#13;
                                                            &lt;button type="button" class="btn btn-success btn-sm" name="button" onclick="appendOutcome()"&gt; &lt;i class="fa fa-plus"&gt;&lt;/i&gt; &lt;/button&gt;&#13;
                                                        &lt;/div&gt;&#13;
                                                    &lt;/div&gt;&#13;
                                                &lt;?php endif; ?&gt;&#13;
                                                &lt;div id = "blank_outcome_field"&gt;&#13;
                                                    &lt;div class="d-flex mt-2"&gt;&#13;
                                                        &lt;div class="flex-grow-1 px-3"&gt;&#13;
                                                            &lt;div class="form-group"&gt;&#13;
                                                                &lt;input type="text" class="form-control" name="outcomes[]" id="outcomes" placeholder="&lt;?php echo get_phrase('provide_outcomes'); ?&gt;"&gt;&#13;
                                                            &lt;/div&gt;&#13;
                                                        &lt;/div&gt;&#13;
                                                        &lt;div class=""&gt;&#13;
                                                            &lt;button type="button" class="btn btn-danger btn-sm" style="margin-top: 0px;" name="button" onclick="removeOutcome(this)"&gt; &lt;i class="fa fa-minus"&gt;&lt;/i&gt; &lt;/button&gt;&#13;
                                                        &lt;/div&gt;&#13;
                                                    &lt;/div&gt;&#13;
                                                &lt;/div&gt;&#13;
                                            &lt;/div&gt;&#13;
                                        &lt;/div&gt;&#13;
                                    &lt;/div&gt;&#13;
                                &lt;/div&gt;&#13;
                            &lt;/div&gt;&#13;
                        &lt;/div&gt;&#13;
&#13;
                        &lt;div class="tab-pane" id="pricing"&gt;&#13;
                            &lt;div class="row justify-content-center"&gt;&#13;
                                &lt;div class="col-xl-8"&gt;&#13;
                                    &lt;div class="form-group row mb-3"&gt;&#13;
                                        &lt;div class="offset-md-2 col-md-10"&gt;&#13;
                                            &lt;div class="custom-control custom-checkbox"&gt;&#13;
                                                &lt;input type="checkbox" class="custom-control-input" name="is_free_course" id="is_free_course" value="1" &lt;?php if($course_details['is_free_course'] == 1) echo 'checked'; ?&gt;&gt;&#13;
                                                &lt;label class="custom-control-label" for="is_free_course"&gt;&lt;?php echo get_phrase('check_if_this_is_a_free_course'); ?&gt;&lt;/label&gt;&#13;
                                            &lt;/div&gt;&#13;
                                        &lt;/div&gt;&#13;
                                    &lt;/div&gt;&#13;
&#13;
                                    &lt;div class="form-group row mb-3"&gt;&#13;
                                        &lt;label class="col-md-2 col-form-label" for="price"&gt;&lt;?php echo get_phrase('course_price').' ('.currency_code_and_symbol().')'; ?&gt;&lt;/label&gt;&#13;
                                        &lt;div class="col-md-10"&gt;&#13;
                                            &lt;input type="number" class="form-control" id="price" name = "price" min="0" placeholder="&lt;?php echo get_phrase('enter_course_course_price'); ?&gt;" value="&lt;?php echo $course_details['price']; ?&gt;" &gt;&#13;
                                        &lt;/div&gt;&#13;
                                    &lt;/div&gt;&#13;
&#13;
                                    &lt;div class="form-group row mb-3"&gt;&#13;
                                        &lt;div class="offset-md-2 col-md-10"&gt;&#13;
                                            &lt;div class="custom-control custom-checkbox"&gt;&#13;
                                                &lt;input type="checkbox" class="custom-control-input" name="discount_flag" id="discount_flag" value="1" &lt;?php if($course_details['discount_flag'] == 1) echo 'checked'; ?&gt;&gt;&#13;
                                                &lt;label class="custom-control-label" for="discount_flag"&gt;&lt;?php echo get_phrase('check_if_this_course_has_discount'); ?&gt;&lt;/label&gt;&#13;
                                            &lt;/div&gt;&#13;
                                        &lt;/div&gt;&#13;
                                    &lt;/div&gt;&#13;
&#13;
                                    &lt;div class="form-group row mb-3"&gt;&#13;
                                        &lt;label class="col-md-2 col-form-label" for="discounted_price"&gt;&lt;?php echo get_phrase('discounted_price').' ('.currency_code_and_symbol().')'; ?&gt;&lt;/label&gt;&#13;
                                        &lt;div class="col-md-10"&gt;&#13;
                                            &lt;input type="number" class="form-control" name="discounted_price" id="discounted_price" onkeyup="calculateDiscountPercentage(this.value)" value="&lt;?php echo $course_details['discounted_price']; ?&gt;" min="0"&gt;&#13;
                                            &lt;small class="text-muted"&gt;&lt;?php echo get_phrase('this_course_has'); ?&gt; &lt;span id = "discounted_percentage" class="text-danger"&gt;0%&lt;/span&gt; &lt;?php echo get_phrase('discount'); ?&gt;&lt;/small&gt;&#13;
                                        &lt;/div&gt;&#13;
                                    &lt;/div&gt;&#13;
                                &lt;/div&gt; &lt;!-- end col --&gt;&#13;
                            &lt;/div&gt; &lt;!-- end row --&gt;&#13;
                        &lt;/div&gt; &lt;!-- end tab-pane --&gt;&#13;
                        &lt;div class="tab-pane" id="media"&gt;&#13;
                            &lt;div class="row justify-content-center"&gt;&#13;
&#13;
                                &lt;div class="col-xl-8"&gt;&#13;
                                    &lt;div class="form-group row mb-3"&gt;&#13;
                                        &lt;label class="col-md-2 col-form-label" for="course_overview_provider"&gt;&lt;?php echo get_phrase('course_overview_provider'); ?&gt;&lt;/label&gt;&#13;
                                        &lt;div class="col-md-10"&gt;&#13;
                                            &lt;select class="form-control select2" data-toggle="select2" name="course_overview_provider" id="course_overview_provider"&gt;&#13;
                                                &lt;option value="youtube" &lt;?php if ($course_details['course_overview_provider'] == 'youtube')echo 'selected';?&gt;&gt;&lt;?php echo get_phrase('youtube'); ?&gt;&lt;/option&gt;&#13;
                                                &lt;option value="vimeo" &lt;?php if ($course_details['course_overview_provider'] == 'vimeo')echo 'selected';?&gt;&gt;&lt;?php echo get_phrase('vimeo'); ?&gt;&lt;/option&gt;&#13;
                                                &lt;option value="html5"&gt;&lt;?php echo get_phrase('HTML5'); ?&gt;&lt;/option&gt;&#13;
                                            &lt;/select&gt;&#13;
                                        &lt;/div&gt;&#13;
                                    &lt;/div&gt;&#13;
                                &lt;/div&gt; &lt;!-- end col --&gt;&#13;
&#13;
                                &lt;div class="col-xl-8"&gt;&#13;
                                    &lt;div class="form-group row mb-3"&gt;&#13;
                                        &lt;label class="col-md-2 col-form-label" for="course_overview_url"&gt;&lt;?php echo get_phrase('course_overview_url'); ?&gt;&lt;/label&gt;&#13;
                                        &lt;div class="col-md-10"&gt;&#13;
                                            &lt;input type="text" class="form-control" name="course_overview_url" id="course_overview_url" placeholder="E.g: https://www.youtube.com/watch?v=oBtf8Yglw2w" value="&lt;?php echo $course_details['video_url'] ?&gt;"&gt;&#13;
                                        &lt;/div&gt;&#13;
                                    &lt;/div&gt;&#13;
                                &lt;/div&gt; &lt;!-- end col --&gt;&#13;
&#13;
                                &lt;div class="col-xl-8"&gt;&#13;
                                    &lt;div class="form-group row mb-3"&gt;&#13;
                                        &lt;label class="col-md-2 col-form-label" for="course_thumbnail_label"&gt;&lt;?php echo get_phrase('course_thumbnail'); ?&gt;&lt;/label&gt;&#13;
                                        &lt;div class="col-md-10"&gt;&#13;
                                            &lt;div class="wrapper-image-preview" style="margin-left: -6px;"&gt;&#13;
                                                &lt;div class="box" style="width: 250px;"&gt;&#13;
                                                    &lt;div class="js--image-preview" style="background-image: url(&lt;?php echo $this-&gt;crud_model-&gt;get_course_thumbnail_url($course_details['id']);?&gt;); background-color: #F5F5F5;"&gt;&lt;/div&gt;&#13;
                                                    &lt;div class="upload-options"&gt;&#13;
                                                        &lt;label for="course_thumbnail" class="btn"&gt; &lt;i class="mdi mdi-camera"&gt;&lt;/i&gt; &lt;?php echo get_phrase('course_thumbnail'); ?&gt; &lt;br&gt; &lt;small&gt;(600 X 600)&lt;/small&gt; &lt;/label&gt;&#13;
                                                        &lt;input id="course_thumbnail" style="visibility:hidden;" type="file" class="image-upload" name="course_thumbnail" accept="image/*"&gt;&#13;
                                                    &lt;/div&gt;&#13;
                                                &lt;/div&gt;&#13;
                                            &lt;/div&gt;&#13;
                                        &lt;/div&gt;&#13;
                                    &lt;/div&gt;&#13;
                                &lt;/div&gt; &lt;!-- end col --&gt;&#13;
                            &lt;/div&gt; &lt;!-- end row --&gt;&#13;
                        &lt;/div&gt;&#13;
                        &lt;div class="tab-pane" id="seo"&gt;&#13;
                            &lt;div class="row justify-content-center"&gt;&#13;
                                &lt;div class="col-xl-8"&gt;&#13;
                                    &lt;div class="form-group row mb-3"&gt;&#13;
                                        &lt;label class="col-md-2 col-form-label" for="website_keywords"&gt;&lt;?php echo get_phrase('meta_keywords'); ?&gt;&lt;/label&gt;&#13;
                                        &lt;div class="col-md-10"&gt;&#13;
                                            &lt;input type="text" class="form-control bootstrap-tag-input" id = "meta_keywords" name="meta_keywords" data-role="tagsinput" style="width: 100%;" value="&lt;?php echo $course_details['meta_keywords']; ?&gt;"/&gt;&#13;
                                        &lt;/div&gt;&#13;
                                    &lt;/div&gt;&#13;
                                &lt;/div&gt; &lt;!-- end col --&gt;&#13;
                                &lt;div class="col-xl-8"&gt;&#13;
                                    &lt;div class="form-group row mb-3"&gt;&#13;
                                        &lt;label class="col-md-2 col-form-label" for="meta_description"&gt;&lt;?php echo get_phrase('meta_description'); ?&gt;&lt;/label&gt;&#13;
                                        &lt;div class="col-md-10"&gt;&#13;
                                            &lt;textarea name="meta_description" class="form-control"&gt;&lt;?php echo $course_details['meta_description']; ?&gt;&lt;/textarea&gt;&#13;
                                        &lt;/div&gt;&#13;
                                    &lt;/div&gt;&#13;
                                &lt;/div&gt; &lt;!-- end col --&gt;&#13;
                            &lt;/div&gt; &lt;!-- end row --&gt;&#13;
                        &lt;/div&gt;&#13;
                        &lt;div class="tab-pane" id="finish"&gt;&#13;
                            &lt;div class="row"&gt;&#13;
                                &lt;div class="col-12"&gt;&#13;
                                    &lt;div class="text-center"&gt;&#13;
                                        &lt;h2 class="mt-0"&gt;&lt;i class="mdi mdi-check-all"&gt;&lt;/i&gt;&lt;/h2&gt;&#13;
                                        &lt;h3 class="mt-0"&gt;Thank you !&lt;/h3&gt;&#13;
&#13;
                                        &lt;p class="w-75 mb-2 mx-auto"&gt;&lt;?php echo get_phrase('you_are_just_one_click_away'); ?&gt;&lt;/p&gt;&#13;
&#13;
                                        &lt;div class="mb-3 mt-3"&gt;&#13;
                                            &lt;button type="button" class="btn btn-primary text-center" onclick="checkRequiredFields()"&gt;&lt;?php echo get_phrase('submit'); ?&gt;&lt;/button&gt;&#13;
                                        &lt;/div&gt;&#13;
                                    &lt;/div&gt;&#13;
                                &lt;/div&gt; &lt;!-- end col --&gt;&#13;
                            &lt;/div&gt; &lt;!-- end row --&gt;&#13;
                        &lt;/div&gt;&#13;
&#13;
                        &lt;ul class="list-inline mb-0 wizard text-center"&gt;&#13;
                            &lt;li class="previous list-inline-item"&gt;&#13;
                                &lt;a href="javascript::" class="btn btn-info"&gt; &lt;i class="mdi mdi-arrow-left-bold"&gt;&lt;/i&gt; &lt;/a&gt;&#13;
                            &lt;/li&gt;&#13;
                            &lt;li class="next list-inline-item"&gt;&#13;
                                &lt;a href="javascript::" class="btn btn-info"&gt; &lt;i class="mdi mdi-arrow-right-bold"&gt;&lt;/i&gt; &lt;/a&gt;&#13;
                            &lt;/li&gt;&#13;
                        &lt;/ul&gt;&#13;
&#13;
                    &lt;/div&gt; &lt;!-- tab-content --&gt;&#13;
                &lt;/div&gt; &lt;!-- end #progressbarwizard--&gt;&#13;
            &lt;/form&gt;&#13;
        &lt;/div&gt;&#13;
    &lt;/div&gt;&lt;!-- end row--&gt;&#13;
&lt;/div&gt; &lt;!-- end card-body--&gt;&#13;
&lt;/div&gt; &lt;!-- end card--&gt;&#13;
&lt;/div&gt;&#13;
&lt;/div&gt;&#13;
&#13;
&lt;script type="text/javascript"&gt;&#13;
  $(document).ready(function () {&#13;
    initSummerNote(['#description']);&#13;
  });&#13;
&lt;/script&gt;&#13;
&#13;
&lt;script type="text/javascript"&gt;&#13;
var blank_outcome = jQuery('#blank_outcome_field').html();&#13;
var blank_requirement = jQuery('#blank_requirement_field').html();&#13;
jQuery(document).ready(function() {&#13;
    jQuery('#blank_outcome_field').hide();&#13;
    jQuery('#blank_requirement_field').hide();&#13;
    calculateDiscountPercentage($('#discounted_price').val());&#13;
});&#13;
function appendOutcome() {&#13;
    jQuery('#outcomes_area').append(blank_outcome);&#13;
}&#13;
function removeOutcome(outcomeElem) {&#13;
    jQuery(outcomeElem).parent().parent().remove();&#13;
}&#13;
&#13;
function appendRequirement() {&#13;
    jQuery('#requirement_area').append(blank_requirement);&#13;
}&#13;
function removeRequirement(requirementElem) {&#13;
    jQuery(requirementElem).parent().parent().remove();&#13;
}&#13;
&#13;
function ajax_get_sub_category(category_id) {&#13;
    console.log(category_id);&#13;
    $.ajax({&#13;
        url: '&lt;?php echo site_url('admin/ajax_get_sub_category/');?&gt;' + category_id ,&#13;
</codefragment>
  </duplication>
  <duplication lines="37" tokens="95">
    <file path="C:\wamp64\www\gns-lms\application\views\frontend\default\all_category_page.php" line="76"/>
    <file path="C:\wamp64\www\gns-lms\application\views\frontend\default\category_wise_course_list_layout.php" line="36"/>
    <codefragment>                                        &lt;?php if ($course['is_free_course'] == 1): ?&gt;&#13;
                                            &lt;span class="current-price"&gt;&lt;?php echo get_phrase('free'); ?&gt;&lt;/span&gt;&#13;
                                        &lt;?php else: ?&gt;&#13;
                                          &lt;?php if($course['discount_flag'] == 1): ?&gt;&#13;
                                              &lt;span class="current-price"&gt;&lt;?php echo currency($course['discounted_price']); ?&gt;&lt;/span&gt;&#13;
                                              &lt;span class="original-price"&gt;&lt;?php echo currency($course['price']); ?&gt;&lt;/span&gt;&#13;
                                          &lt;?php else: ?&gt;&#13;
                                              &lt;span class="current-price"&gt;&lt;?php echo currency($course['price']); ?&gt;&lt;/span&gt;&#13;
                                          &lt;?php endif; ?&gt;&#13;
                                        &lt;?php endif; ?&gt;&#13;
                                    &lt;/div&gt;&#13;
                                    &lt;div class="rating"&gt;&#13;
                                        &lt;?php&#13;
                                            $total_rating =  $this-&gt;crud_model-&gt;get_ratings('course', $course['id'], true)-&gt;row()-&gt;rating;&#13;
                                            $number_of_ratings = $this-&gt;crud_model-&gt;get_ratings('course', $course['id'])-&gt;num_rows();&#13;
                                            if ($number_of_ratings &gt; 0) {&#13;
                                                $average_ceil_rating = ceil($total_rating / $number_of_ratings);&#13;
                                            }else {&#13;
                                                $average_ceil_rating = 0;&#13;
                                            }&#13;
&#13;
                                            for($i = 1; $i &lt; 6; $i++):?&gt;&#13;
                                            &lt;?php if ($i &lt;= $average_ceil_rating): ?&gt;&#13;
                                            &lt;i class="fas fa-star filled"&gt;&lt;/i&gt;&#13;
                                            &lt;?php else: ?&gt;&#13;
                                            &lt;i class="fas fa-star"&gt;&lt;/i&gt;&#13;
                                            &lt;?php endif; ?&gt;&#13;
                                            &lt;?php endfor; ?&gt;&#13;
                                        &lt;span class="d-inline-block average-rating"&gt;&lt;?php echo $average_ceil_rating; ?&gt;&lt;/span&gt;&#13;
                                    &lt;/div&gt;&#13;
                                    &lt;div class="rating-number"&gt;&#13;
                                        &lt;?php echo $this-&gt;crud_model-&gt;get_ratings('course', $course['id'])-&gt;num_rows().' '.get_phrase('ratings'); ?&gt;&#13;
                                    &lt;/div&gt;&#13;
                                &lt;/div&gt;&#13;
                            &lt;/div&gt;&#13;
                        &lt;/li&gt;&#13;
                    &lt;?php endforeach; ?&gt;&#13;
</codefragment>
  </duplication>
  <duplication lines="69" tokens="180">
    <file path="C:\wamp64\www\gns-lms\application\views\frontend\default\all_category_page.php" line="45"/>
    <file path="C:\wamp64\www\gns-lms\application\views\frontend\default\course_search_page.php" line="29"/>
    <codefragment>                            $instructor_details = $this-&gt;user_model-&gt;get_all_user($course['user_id'])-&gt;row_array();?&gt;&#13;
                        &lt;li&gt;&#13;
                            &lt;div class="course-box-2"&gt;&#13;
                                &lt;div class="course-image"&gt;&#13;
                                    &lt;a href="&lt;?php echo site_url('home/course/'.slugify($course['title']).'/'.$course['id']) ?&gt;"&gt;&#13;
                                        &lt;img src="&lt;?php echo $this-&gt;crud_model-&gt;get_course_thumbnail_url($course['id']); ?&gt;" alt="" class="img-fluid"&gt;&#13;
                                    &lt;/a&gt;&#13;
                                &lt;/div&gt;&#13;
                                &lt;div class="course-details"&gt;&#13;
                                    &lt;a href="&lt;?php echo site_url('home/course/'.slugify($course['title']).'/'.$course['id']); ?&gt;" class="course-title"&gt;&lt;?php echo $course['title']; ?&gt;&lt;/a&gt;&#13;
                                    &lt;a href="&lt;?php echo site_url('home/instructor_page/'.$instructor_details['id']) ?&gt;" class="course-instructor"&gt;&#13;
                                        &lt;span class="instructor-name"&gt;&lt;?php echo $instructor_details['first_name'].' '.$instructor_details['last_name']; ?&gt;&lt;/span&gt; -&#13;
                                    &lt;/a&gt;&#13;
                                    &lt;div class="course-subtitle"&gt;&#13;
                                        &lt;?php echo $course['short_description']; ?&gt;&#13;
                                    &lt;/div&gt;&#13;
                                    &lt;div class="course-meta"&gt;&#13;
                                        &lt;span class=""&gt;&lt;i class="fas fa-play-circle"&gt;&lt;/i&gt;&#13;
                                            &lt;?php&#13;
                                                $number_of_lessons = $this-&gt;crud_model-&gt;get_lessons('course', $course['id'])-&gt;num_rows();&#13;
                                                echo $number_of_lessons.' '.get_phrase('lessons');&#13;
                                             ?&gt;&#13;
                                        &lt;/span&gt;&#13;
                                        &lt;span class=""&gt;&lt;i class="far fa-clock"&gt;&lt;/i&gt;&#13;
                                            &lt;?php echo $this-&gt;crud_model-&gt;get_total_duration_of_lesson_by_course_id($course['id']); ?&gt;&#13;
                                        &lt;/span&gt;&#13;
                                        &lt;span class=""&gt;&lt;i class="fas fa-closed-captioning"&gt;&lt;/i&gt;&lt;?php echo ucfirst($course['language']); ?&gt;&lt;/span&gt;&#13;
                                    &lt;/div&gt;&#13;
                                &lt;/div&gt;&#13;
                                &lt;div class="course-price-rating"&gt;&#13;
                                    &lt;div class="course-price"&gt;&#13;
                                        &lt;?php if ($course['is_free_course'] == 1): ?&gt;&#13;
                                            &lt;span class="current-price"&gt;&lt;?php echo get_phrase('free'); ?&gt;&lt;/span&gt;&#13;
                                        &lt;?php else: ?&gt;&#13;
                                          &lt;?php if($course['discount_flag'] == 1): ?&gt;&#13;
                                              &lt;span class="current-price"&gt;&lt;?php echo currency($course['discounted_price']); ?&gt;&lt;/span&gt;&#13;
                                              &lt;span class="original-price"&gt;&lt;?php echo currency($course['price']); ?&gt;&lt;/span&gt;&#13;
                                          &lt;?php else: ?&gt;&#13;
                                              &lt;span class="current-price"&gt;&lt;?php echo currency($course['price']); ?&gt;&lt;/span&gt;&#13;
                                          &lt;?php endif; ?&gt;&#13;
                                        &lt;?php endif; ?&gt;&#13;
                                    &lt;/div&gt;&#13;
                                    &lt;div class="rating"&gt;&#13;
                                        &lt;?php&#13;
                                            $total_rating =  $this-&gt;crud_model-&gt;get_ratings('course', $course['id'], true)-&gt;row()-&gt;rating;&#13;
                                            $number_of_ratings = $this-&gt;crud_model-&gt;get_ratings('course', $course['id'])-&gt;num_rows();&#13;
                                            if ($number_of_ratings &gt; 0) {&#13;
                                                $average_ceil_rating = ceil($total_rating / $number_of_ratings);&#13;
                                            }else {&#13;
                                                $average_ceil_rating = 0;&#13;
                                            }&#13;
&#13;
                                            for($i = 1; $i &lt; 6; $i++):?&gt;&#13;
                                            &lt;?php if ($i &lt;= $average_ceil_rating): ?&gt;&#13;
                                            &lt;i class="fas fa-star filled"&gt;&lt;/i&gt;&#13;
                                            &lt;?php else: ?&gt;&#13;
                                            &lt;i class="fas fa-star"&gt;&lt;/i&gt;&#13;
                                            &lt;?php endif; ?&gt;&#13;
                                            &lt;?php endfor; ?&gt;&#13;
                                        &lt;span class="d-inline-block average-rating"&gt;&lt;?php echo $average_ceil_rating; ?&gt;&lt;/span&gt;&#13;
                                    &lt;/div&gt;&#13;
                                    &lt;div class="rating-number"&gt;&#13;
                                        &lt;?php echo $this-&gt;crud_model-&gt;get_ratings('course', $course['id'])-&gt;num_rows().' '.get_phrase('ratings'); ?&gt;&#13;
                                    &lt;/div&gt;&#13;
                                &lt;/div&gt;&#13;
                            &lt;/div&gt;&#13;
                        &lt;/li&gt;&#13;
                    &lt;?php endforeach; ?&gt;&#13;
                    &lt;/ul&gt;&#13;
</codefragment>
  </duplication>
  <duplication lines="55" tokens="77">
    <file path="C:\wamp64\www\gns-lms\application\views\frontend\default\lesson_edit.php" line="156"/>
    <file path="C:\wamp64\www\gns-lms\application\views\frontend\default\manage_lesson.php" line="248"/>
    <codefragment>                          &lt;th&gt;&lt;?php echo get_phrase('title'); ?&gt;&lt;/th&gt;&#13;
                          &lt;th&gt;&lt;?php echo get_phrase('section'); ?&gt;&lt;/th&gt;&#13;
                          &lt;th&gt;&lt;?php echo get_phrase('lesson_type'); ?&gt;&lt;/th&gt;&#13;
                          &lt;th&gt;&lt;?php echo get_phrase('action'); ?&gt;&lt;/th&gt;&#13;
                        &lt;/tr&gt;&#13;
                      &lt;/thead&gt;&#13;
                      &lt;tbody&gt;&#13;
                          &lt;?php foreach ($lessons-&gt;result_array() as $lesson):?&gt;&#13;
                              &lt;tr&gt;&#13;
                                  &lt;td&gt;&#13;
                                      &lt;?php echo $lesson['title']; ?&gt;&#13;
                                  &lt;/td&gt;&#13;
                                  &lt;td&gt;&#13;
                                      &lt;?php&#13;
                                          $section_of_lesson = $this-&gt;crud_model-&gt;get_section('section', $lesson['section_id'])-&gt;row_array();&#13;
                                          echo $section_of_lesson['title'];&#13;
                                       ?&gt;&#13;
                                  &lt;/td&gt;&#13;
                                  &lt;td&gt;&#13;
                                    &lt;?php&#13;
                                      if ($lesson['attachment_type'] == 'url' || $lesson['attachment_type'] == '') {&#13;
                                        echo get_phrase('video');&#13;
                                      }else {&#13;
                                        echo ucfirst($lesson['attachment_type']);&#13;
                                      }&#13;
                                    ?&gt;&#13;
                                  &lt;/td&gt;&#13;
&#13;
                                  &lt;td&gt;&#13;
                                      &lt;a href="&lt;?php echo site_url('home/lesson_editing_form/'.$lesson['id'].'/'.$course_id); ?&gt;"&gt;&#13;
                                          &lt;?php echo get_phrase('edit');?&gt;&#13;
                                      &lt;/a&gt;&#13;
                                      &lt;a href="#" onclick="confirm_modal('&lt;?php echo site_url('home/manage_lessons/delete/'.$course_id.'/'.$lesson['id']); ?&gt;');"&gt;&#13;
                                          &lt;?php echo get_phrase('delete');?&gt;&#13;
                                      &lt;/a&gt;&#13;
                                  &lt;/td&gt;&#13;
                              &lt;/tr&gt;&#13;
                          &lt;?php endforeach; ?&gt;&#13;
                      &lt;/tbody&gt;&#13;
                    &lt;/table&gt;&#13;
              &lt;/div&gt;&#13;
          &lt;/div&gt;&#13;
        &lt;/div&gt;&#13;
    &lt;/div&gt;&#13;
&lt;/section&gt;&#13;
&lt;script type="text/javascript"&gt;&#13;
&#13;
    function ajax_get_video_details(video_url, type) {&#13;
&#13;
        if (type == 'addLesson')&#13;
            $('#preloader').show();&#13;
        else&#13;
            $('#preloader_for_updating').show();&#13;
&#13;
        if(checkURLValidity(video_url)){&#13;
</codefragment>
  </duplication>
  <duplication lines="80" tokens="130">
    <file path="C:\wamp64\www\gns-lms\application\views\frontend\default\shopping_cart.php" line="29"/>
    <file path="C:\wamp64\www\gns-lms\application\views\frontend\default\shopping_cart_inner_view.php" line="9"/>
    <codefragment>                            $total_price  = 0;&#13;
                            foreach ($this-&gt;session-&gt;userdata('cart_items') as $cart_item):&#13;
                                $course_details = $this-&gt;crud_model-&gt;get_course_by_id($cart_item)-&gt;row_array();&#13;
                                $instructor_details = $this-&gt;user_model-&gt;get_all_user($course_details['user_id'])-&gt;row_array();&#13;
                                ?&gt;&#13;
                                &lt;li&gt;&#13;
                                    &lt;div class="cart-course-wrapper"&gt;&#13;
                                        &lt;div class="image"&gt;&#13;
                                            &lt;a href="&lt;?php echo site_url('home/course/'.slugify($course_details['title']).'/'.$course_details['id']); ?&gt;"&gt;&#13;
                                                &lt;img src="&lt;?php echo $this-&gt;crud_model-&gt;get_course_thumbnail_url($cart_item);?&gt;" alt="" class="img-fluid"&gt;&#13;
                                            &lt;/a&gt;&#13;
                                        &lt;/div&gt;&#13;
                                        &lt;div class="details"&gt;&#13;
                                            &lt;a href="&lt;?php echo site_url('home/course/'.slugify($course_details['title']).'/'.$course_details['id']); ?&gt;"&gt;&#13;
                                                &lt;div class="name"&gt;&lt;?php echo $course_details['title']; ?&gt;&lt;/div&gt;&#13;
                                            &lt;/a&gt;&#13;
                                            &lt;a href="&lt;?php echo site_url('home/instructor_page/'.$instructor_details['id']); ?&gt;"&gt;&#13;
                                                &lt;div class="instructor"&gt;&#13;
                                                    &lt;?php echo get_phrase('by'); ?&gt;&#13;
                                                    &lt;span class="instructor-name"&gt;&lt;?php echo $instructor_details['first_name'].' '.$instructor_details['last_name']; ?&gt;&lt;/span&gt;,&#13;
                                                &lt;/div&gt;&#13;
                                            &lt;/a&gt;&#13;
                                        &lt;/div&gt;&#13;
                                        &lt;div class="move-remove"&gt;&#13;
                                            &lt;div id = "&lt;?php echo $course_details['id']; ?&gt;" onclick="removeFromCartList(this)"&gt;&lt;?php echo get_phrase('remove'); ?&gt;&lt;/div&gt;&#13;
                                            &lt;!-- &lt;div&gt;Move to Wishlist&lt;/div&gt; --&gt;&#13;
                                        &lt;/div&gt;&#13;
                                        &lt;div class="price"&gt;&#13;
                                            &lt;a href=""&gt;&#13;
                                                &lt;?php if ($course_details['discount_flag'] == 1): ?&gt;&#13;
                                                    &lt;div class="current-price"&gt;&#13;
                                                        &lt;?php&#13;
                                                        $total_price += $course_details['discounted_price'];&#13;
                                                        echo currency($course_details['discounted_price']);&#13;
                                                        ?&gt;&#13;
                                                    &lt;/div&gt;&#13;
                                                    &lt;div class="original-price"&gt;&#13;
                                                        &lt;?php&#13;
                                                        $actual_price += $course_details['price'];&#13;
                                                        echo currency($course_details['price']);&#13;
                                                        ?&gt;&#13;
                                                    &lt;/div&gt;&#13;
                                                &lt;?php else: ?&gt;&#13;
                                                    &lt;div class="current-price"&gt;&#13;
                                                        &lt;?php&#13;
                                                        $actual_price += $course_details['price'];&#13;
                                                        $total_price  += $course_details['price'];&#13;
                                                        echo currency($course_details['price']);&#13;
                                                        ?&gt;&#13;
                                                    &lt;/div&gt;&#13;
                                                &lt;?php endif; ?&gt;&#13;
                                                &lt;span class="coupon-tag"&gt;&#13;
                                                    &lt;i class="fas fa-tag"&gt;&lt;/i&gt;&#13;
                                                &lt;/span&gt;&#13;
                                            &lt;/a&gt;&#13;
                                        &lt;/div&gt;&#13;
                                    &lt;/div&gt;&#13;
                                &lt;/li&gt;&#13;
                            &lt;?php endforeach; ?&gt;&#13;
                        &lt;/ul&gt;&#13;
                    &lt;/div&gt;&#13;
                &lt;/div&gt;&#13;
&#13;
            &lt;/div&gt;&#13;
            &lt;div class="col-lg-3"&gt;&#13;
                &lt;div class="cart-sidebar"&gt;&#13;
                    &lt;div class="total"&gt;&lt;?php echo get_phrase('total'); ?&gt;:&lt;/div&gt;&#13;
                    &lt;span id = "total_price_of_checking_out" hidden&gt;&lt;?php echo $total_price; ?&gt;&lt;/span&gt;&#13;
                    &lt;div class="total-price"&gt;&lt;?php echo currency($total_price); ?&gt;&lt;/div&gt;&#13;
                    &lt;div class="total-original-price"&gt;&#13;
                        &lt;span class="original-price"&gt;&lt;?php echo currency($actual_price); ?&gt;&lt;/span&gt;&#13;
                        &lt;!-- &lt;span class="discount-rate"&gt;95% off&lt;/span&gt; --&gt;&#13;
                    &lt;/div&gt;&#13;
                    &lt;button type="button" class="btn btn-primary btn-block checkout-btn" onclick="handleCheckOut()"&gt;&lt;?php echo get_phrase('checkout'); ?&gt;&lt;/button&gt;&#13;
                &lt;/div&gt;&#13;
            &lt;/div&gt;&#13;
        &lt;/div&gt;&#13;
    &lt;/div&gt;&#13;
&lt;/section&gt;&#13;
&lt;script src="https://www.paypalobjects.com/js/external/dg.js"&gt;&lt;/script&gt;&#13;
</codefragment>
  </duplication>
</pmd-cpd>
